<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:adm="http://github.com/adminfaces"
	template="../templates/template.xhtml">

	<ui:define name="body">
        <f:metadata>
        	<f:event listener="#{timelineMB.inicializar()}" type="preRenderView"/>
        </f:metadata>

		<h:form>
		
			<section class="content-header">
				<h1>
					Timeline <small></small>
				</h1>
			</section>

			<section class="content">

				<div class="row">
				
					<div class="col-md-12">

						<ul class="timeline">

								<ui:repeat value="#{timelineMB.timeline}" var="t">
							
									<p:panelGrid rendered="#{timelineMB.renderizarData(t.dataHora, t.descricao)}">
										<li class="time-label"><span class="#{timelineMB.corData}"> #{timelineMB.formatarData(t.dataHora)} </span></li>
									</p:panelGrid>
									
									<p:panelGrid rendered="#{t.tipoMsg eq 'SIMPLES'}">
										<li>
										
											<i class="#{t.icone}"></i>
			
											<div class="timeline-item">
												<span class="time"><i class="fa fa-clock-o"></i> #{timelineMB.formatarHora(t.dataHora)} </span>
			
												<h3 class="timeline-header no-border">
													<a href="#">#{t.titulo}</a> #{t.descricao}
												</h3>
											</div>
											
										</li>
									</p:panelGrid>
								
									<p:panelGrid rendered="#{t.tipoMsg eq 'DUPLA'}">
										<li>
										
											<i class="#{t.icone}"></i>
			
											<div class="timeline-item">
												<span class="time"><i class="fa fa-clock-o"></i> #{timelineMB.formatarHora(t.dataHora)} </span>
			
												<h3 class="timeline-header">
													<a href="#">#{t.titulo}</a>
												</h3>
			
												<div class="timeline-body">#{t.descricao}</div>
											</div>
											
										</li>
									</p:panelGrid>
								
								</ui:repeat>

							<li><i class="fa fa-clock-o bg-gray"></i></li>
							
						</ul>
						
					</div>
					
				</div>

			</section>
			
		</h:form>

	</ui:define>
	
</ui:composition>
